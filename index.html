<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ë–ï–ó –î–¢–ü 76 | –ö–∞—Ä—Ç–∞</title>
    
    <!-- üìä –Ø–ù–î–ï–ö–° –ú–ï–¢–†–ò–ö–ê -->
    <script type="text/javascript">
       (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
       m[i].l=1*new Date();
       for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
       k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
       (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
       ym(106957722, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true });
    </script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { margin: 0; padding: 0; background-color: #f3f4f6; overflow: hidden; font-family: sans-serif; }
        #map { height: 100vh; width: 100vw; z-index: 1; }
        
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; background-color: #000; border-radius: 8px; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        
        .brand-icon, .instructor-icon { background: none; border: none; }
        .leaflet-control-layers { border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.15) !important; border: none !important; margin: 12px !important;}
        
        /* –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Leaflet Popups */
        .leaflet-popup { display: none !important; }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä –¥–ª—è –ø–∞–Ω–µ–ª–∏ */
        #sheetContent::-webkit-scrollbar { width: 4px; }
        #sheetContent::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
</head>
<body>

    <!-- ======================================================= -->
    <!-- –ê–î–ê–ü–¢–ò–í–ù–´–ô –õ–û–ì–û–¢–ò–ü (–õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)                 -->
    <!-- ======================================================= -->
    <div class="absolute top-3 left-3 z-[1000] bg-white/95 backdrop-blur-md rounded-2xl shadow-lg flex items-center border-l-4 border-blue-600 overflow-hidden transition-all duration-300 pointer-events-auto">
        <div class="bg-blue-100 px-3 py-2 text-blue-700 font-black text-xl leading-none italic">76</div>
        <div class="px-4 py-2 hidden sm:flex flex-col">
            <h1 class="font-black text-gray-900 uppercase leading-none text-lg italic">–ë–ï–ó –î–¢–ü</h1>
            <p class="text-[9px] text-gray-500 font-bold uppercase leading-none mt-1 tracking-widest">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞</p>
        </div>
    </div>

    <!-- ======================================================= -->
    <!-- –í–´–î–í–ò–ñ–ù–ê–Ø –ü–ê–ù–ï–õ–¨ (Bottom Sheet)                         -->
    <!-- ======================================================= -->
    <div id="bottomSheet" class="fixed inset-x-0 bottom-0 z-[2000] bg-white rounded-t-3xl shadow-[0_-10px_40px_rgba(0,0,0,0.2)] transform translate-y-full transition-transform duration-300 ease-out flex flex-col max-h-[75vh] sm:max-w-md sm:mx-auto sm:mb-4 sm:rounded-3xl sm:inset-x-4">
        <div class="w-full flex justify-center pt-3 pb-2 cursor-pointer shrink-0 relative" onclick="closeSheet()">
            <div class="w-12 h-1.5 bg-gray-300 rounded-full"></div>
            <button onclick="closeSheet()" class="absolute top-2 right-4 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 font-bold text-lg hover:bg-gray-200">&times;</button>
        </div>
        <div id="sheetContent" class="overflow-y-auto pb-8 px-5">
            <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
        </div>
    </div>

    <!-- ======================================================= -->
    <!-- –ö–ò–ù–û–¢–ï–ê–¢–† (–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ)                         -->
    <!-- ======================================================= -->
    <div id="videoModal" class="fixed inset-0 z-[3000] bg-black hidden flex-col justify-center items-center">
        <button onclick="closeFullscreen()" class="absolute top-6 right-6 text-white text-3xl w-12 h-12 bg-white/20 backdrop-blur-md rounded-full flex justify-center items-center focus:outline-none shadow-lg z-50">&times;</button>
        <div class="w-full max-w-5xl">
            <div id="modalVideoContent" class="relative w-full shadow-2xl" style="padding-bottom: 56.25%;">
                <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è iframe -->
            </div>
        </div>
    </div>

    <div id="map"></div>

    <script>
        // --- üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–• ---
        const videoPointsData = [
            {
                lat: 57.5871, lng: 39.8515,
                title: "–†–∞–∑–±–æ—Ä –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∞ —É –ê—Ä–µ–Ω—ã",
                description: "–ü–æ—Å–º–æ—Ç—Ä–∏ —ç—Ç–æ—Ç –∫–æ—Ä–æ—Ç–∫–∏–π –≤–∏–¥–µ–æ-—Ä–∞–∑–±–æ—Ä, —á—Ç–æ–±—ã —É–≤–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ–µ—Ö–∞—Ç—å –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–æ–∫ –∏ –Ω–µ –∑–∞–≤–∞–ª–∏—Ç—å —ç–∫–∑–∞–º–µ–Ω!",
                telegramLink: "https://t.me/bez_dtp",
                vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239017&hash=8e2ed08c09146173&hd=3" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;" allowfullscreen></iframe>`
            },
            {
                lat: 57.58718, lng: 39.85072,
                title: "–†–∞–∑–±–æ—Ä –æ—Ç –ï–≤–≥–µ–Ω–∏—è –ß–µ—Ä–Ω—ã—à–µ–≤–∞",
                description: "–í–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∞–≤—ã–π —Ä—è–¥! –¢–∏–ø–∏—á–Ω–∞—è –ª–æ–≤—É—à–∫–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ –Ω–∞ —ç—Ç–æ–º —É—á–∞—Å—Ç–∫–µ.",
                telegramLink: "https://t.me/evg_chernyshev",
                authorName: "–ï–≤–≥–µ–Ω–∏–π –ß–µ—Ä–Ω—ã—à–µ–≤",
                authorPhone: "9080367929",
                authorPrice: "1500 —Ä—É–± / 1.5 —á–∞—Å–∞",
                vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239017&hash=8e2ed08c09146173&hd=3" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;" allowfullscreen></iframe>`
            },
            // –¢–í–û–Ø –ù–û–í–ê–Ø –¢–û–ß–ö–ê –£–ñ–ï –ó–î–ï–°–¨!
            {
                lat: 57.59012, 
                lng: 39.85937,
                title: "—É–ª–∏—Ü–∞ –ì–∞–≥–∞—Ä–∏–Ω–∞",
                description: "—É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞ –æ—Ç –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Å–ø–µ–∫—Ç–∞ –¥–æ —É–ª. –ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤",
                telegramLink: "",
                authorName: "",
                authorPhone: "",
                authorPrice: "0",
                vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239018&hash=0783681156dd1f26&hd=3" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;" allowfullscreen></iframe>`
            },{
    lat: 57.58481, 
    lng: 39.83561,
    title: "—É–ª–∏—Ü–∞ –ú–µ–Ω–¥–µ–ª–µ–µ–≤–∞",
    description: "–æ—Ç —É–ª. –¢–∏—Ç–æ–≤–∞ –¥–æ —É–ª. –ö—É—Ä—á–∞—Ç–æ–≤–∞",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239021&hash=2c0ea19bd41c438f&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},
            {
    lat: 57.58150, 
    lng: 39.85189,
    title: "—É–ª–∏—Ü–∞ –ü–∞–≤–ª–æ–≤–∞",
    description: "—É–ª. –ü–∞–≤–ª–æ–≤–∞ –æ—Ç –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Å–ø–µ–∫—Ç–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239020&hash=139d4be0f98d6870&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},{
    lat: 57.58063, 
    lng: 39.83475,
    title: "—É–ª–∏—Ü–∞ –ì–∞–≥–∞—Ä–∏–Ω–∞",
    description: "—É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞ –æ—Ç —É–ª. –ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239019&hash=577b062e3ec1bd18&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},{
    lat: 57.58062, 
    lng: 39.83484,
    title: "—É–ª–∏—Ü–∞ –ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤",
    description: "–æ—Ç —É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞ –¥–æ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Å–ø–µ–∫—Ç–∞",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239029&hash=fc76b1ebf8a304e1&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},{
    lat: 57.57651, 
    lng: 39.84514,
    title: "—É–ª–∏—Ü–∞ –ù–µ—Ñ—Ç—è–Ω–∏–∫–æ–≤",
    description: "–æ—Ç –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Å–ø–µ–∫—Ç–∞ –¥–æ —É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239028&hash=0c72141f6e801cb6&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},{
    lat: 57.58683, 
    lng: 39.83844,
    title: "—É–ª–∏—Ü–∞ –¢–∏—Ç–æ–≤–∞",
    description: "–æ—Ç —É–ª. –ü–∞–≤–ª–æ–≤–∞ –¥–æ —É–ª. –†—ã–∫–∞—á–µ–≤–∞",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239027&hash=edd7df047f99efc3&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},{
    lat: 57.58162, 
    lng: 39.83596,
    title: "—É–ª–∏—Ü–∞ –†—ã–∫–∞—á–µ–≤–∞, –¢–∏—Ç–æ–≤–∞",
    description: "–æ—Ç —É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞ –¥–æ  —É–ª. –ü–∞–≤–ª–æ–≤–∞ ",
    telegramLink: "",
    authorName: "",
    authorPhone: "",
    authorPrice: "0",
    vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239026&hash=f5fdfc80ffffe7e9&hd=3" width="1280" height="720" allow="autoplay; encrypted-media; fullscreen; picture-in-picture; screen-wake-lock;" frameborder="0" allowfullscreen></iframe>`
},
        ];

        const routeLinesData = [
            {
                title: "–£–ª–∏—Ü–∞ –ì–∞–≥–∞—Ä–∏–Ω–∞",
                description: "–ü—Ä–æ–µ–∑–¥ –≤—Å–µ–π —É–ª–∏—Ü—ã –æ—Ç —Å–≤–µ—Ç–æ—Ñ–æ—Ä–∞ –¥–æ –∫–æ–ª—å—Ü–∞. –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–Ω–∞–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏!",
                vkCode: `<iframe src="https://vkvideo.ru/video_ext.php?oid=-236190441&id=456239017&hash=8e2ed08c09146173&hd=3" allow="autoplay; encrypted-media; fullscreen; picture-in-picture;" allowfullscreen></iframe>`,
                coordinates: [[57.58910, 39.84850], [57.58860, 39.84960], [57.58810, 39.85050], [57.58750, 39.85170], [57.58680, 39.85300], [57.58610, 39.85450]]
            },
        ];

        const instructorsData = [
            {
                lat: 57.5855, lng: 39.8500,
                name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
                car: "Hyundai Solaris (–ú–ö–ü–ü)",
                phone: "+7 (999) 123-45-67",
                description: "–ù–∞—É—á—É –≤–æ–¥–∏—Ç—å –±–µ–∑ —Å—Ç—Ä–µ—Å—Å–∞ –∏ –ø–∞–Ω–∏–∫–∏! –†–∞–∑–±–∏—Ä–∞–µ–º —Å–ª–æ–∂–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ø—Ä–æ—Å–ª–∞–≤–ª—è.",
                photoUrl: "https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=100&auto=format&fit=crop",
                rating: "5.0", reviewsCount: 12,
                reviewsLink: "https://t.me/bez_dtp", telegramLink: "https://t.me/bez_dtp"
            }
        ];

        // --- –õ–û–ì–ò–ö–ê –ò–ù–¢–ï–†–§–ï–ô–°–ê ---
        function openSheet(htmlContent) {
            document.getElementById('sheetContent').innerHTML = htmlContent;
            document.getElementById('bottomSheet').classList.remove('translate-y-full');
        }

        function closeSheet() {
            document.getElementById('bottomSheet').classList.add('translate-y-full');
            setTimeout(() => { document.getElementById('sheetContent').innerHTML = ''; }, 300);
        }

        function openFullscreen(index, arrayName) {
            let code = '';
            if (arrayName === 'videoPoints') code = videoPointsData[index].vkCode;
            if (arrayName === 'routeLines') code = routeLinesData[index].vkCode;
            
            const container = document.getElementById('modalVideoContent');
            container.innerHTML = code;
            
            const iframe = container.querySelector('iframe');
            if (iframe) {
                iframe.style.position = 'absolute';
                iframe.style.top = '0'; iframe.style.left = '0';
                iframe.style.width = '100%'; iframe.style.height = '100%';
            }
            
            document.getElementById('bottomSheet').classList.add('translate-y-full');
            document.getElementById('videoModal').classList.remove('hidden');
            document.getElementById('videoModal').classList.add('flex');
        }

        function closeFullscreen() {
            document.getElementById('modalVideoContent').innerHTML = ''; 
            document.getElementById('videoModal').classList.add('hidden');
            document.getElementById('videoModal').classList.remove('flex');
            document.getElementById('bottomSheet').classList.remove('translate-y-full');
        }

        // --- –î–í–ò–ñ–û–ö –ö–ê–†–¢–´ ---
        const streetLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 });
        const satelliteLayer = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', { maxZoom: 19 });

        const map = L.map('map', { center: [57.5871, 39.8515], zoom: 16, layers: [streetLayer], zoomControl: false });
        
        // –í–ê–ñ–ù–û: –£–ë–ò–†–ê–ï–ú –ü–û–õ–ò–¢–ò–ö–£ (–ö–æ–ø–∏—Ä–∞–π—Ç —Å —Ñ–ª–∞–≥–æ–º)
        map.attributionControl.setPrefix(''); 
        
        L.control.zoom({ position: 'bottomright' }).addTo(map);

        const videoMarkersGroup = L.layerGroup().addTo(map);
        const routeLinesGroup = L.layerGroup().addTo(map);
        const instructorsGroup = L.layerGroup().addTo(map);

        // –í–ê–ñ–ù–û: –°–õ–û–ò –¢–ï–ü–ï–†–¨ –í–°–ï–ì–î–ê –í –ü–†–ê–í–û–ú –í–ï–†–•–ù–ï–ú –£–ì–õ–£ (–ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º)
        L.control.layers(
            { "üó∫Ô∏è –£–ª–∏—Ü—ã": streetLayer, "üõ∞Ô∏è –°–ø—É—Ç–Ω–∏–∫": satelliteLayer }, 
            { "üé¨ –í–∏–¥–µ–æ": videoMarkersGroup, "üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç—ã": routeLinesGroup, "üë®‚Äçüè´ –ü—Ä–æ—Ñ–∏": instructorsGroup }, 
            { collapsed: true, position: 'topright' } 
        ).addTo(map);

        const customIcon = L.divIcon({
            className: 'brand-icon',
            html: `<div class="w-10 h-10 bg-blue-600 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-white text-lg">‚ñ∂Ô∏è</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
        });

        const instructorIcon = L.divIcon({
            className: 'instructor-icon',
            html: `<div class="w-10 h-10 bg-orange-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center text-xl">üë®‚Äçüè´</div>`,
            iconSize: [40, 40], iconAnchor: [20, 20]
        });

        // --- –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–ê–†–¢–û–ß–ï–ö ---
        videoPointsData.forEach((p, index) => {
            let author = p.authorName ? `
                <div class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-xl">
                    <p class="text-[10px] font-bold text-gray-400 uppercase mb-1">–ê–≤—Ç–æ—Ä —Ä–∞–∑–±–æ—Ä–∞:</p>
                    <p class="text-sm font-bold text-gray-800">${p.authorName}</p>
                    <p class="text-xs text-blue-600 font-bold mt-0.5">${p.authorPrice}</p>
                    <a href="tel:${p.authorPhone}" class="mt-2 block w-full bg-emerald-500 text-white text-center py-2.5 rounded-lg text-xs font-bold uppercase shadow-md tracking-widest">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
                </div>` : "";
            
            let fullScreenBtn = p.vkCode ? `<button onclick="openFullscreen(${index}, 'videoPoints')" class="w-full bg-gray-900 text-white py-3.5 mt-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex justify-center items-center gap-2 active:bg-gray-700">üé¶ –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω</button>` : "";

            const html = `
                <div class="flex flex-col">
                    <span class="text-blue-600 text-[10px] font-black uppercase tracking-widest mb-1">–°–æ–≤–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</span>
                    <h3 class="font-black text-gray-900 text-xl leading-tight mb-3">${p.title}</h3>
                    ${p.vkCode ? `<div class="video-container shadow-md">${p.vkCode}</div>` : ''}
                    ${fullScreenBtn}
                    <p class="text-sm text-gray-700 font-medium leading-snug mt-4">${p.description}</p>
                    ${author}
                    ${p.telegramLink ? `<a href="${p.telegramLink}" target="_blank" class="w-full bg-[#2AABEE] text-white py-3 rounded-xl text-xs font-black shadow-lg text-center uppercase tracking-widest mt-3 block">–û–±—Å—É–¥–∏—Ç—å –≤ –≥—Ä—É–ø–ø–µ</a>` : ''}
                </div>`;
            
            L.marker([p.lat, p.lng], {icon: customIcon}).addTo(videoMarkersGroup)
             .on('click', () => { map.flyTo([p.lat, p.lng], 17); openSheet(html); });
        });

        routeLinesData.forEach((r, index) => {
            const line = L.polyline(r.coordinates, { color: '#10B981', weight: 8 }).addTo(routeLinesGroup);
            let fullScreenBtn = r.vkCode ? `<button onclick="openFullscreen(${index}, 'routeLines')" class="w-full bg-gray-900 text-white py-3.5 mt-2 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex justify-center items-center gap-2 active:bg-gray-700">üé¶ –ù–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω</button>` : "";

            const html = `
                <div class="flex flex-col">
                    <span class="text-emerald-600 text-[10px] font-black uppercase tracking-widest mb-1">–ü—Ä–æ–µ–∑–¥ —É—á–∞—Å—Ç–∫–∞</span>
                    <h3 class="font-black text-gray-900 text-xl leading-tight mb-3">${r.title}</h3>
                    ${r.vkCode ? `<div class="video-container shadow-md">${r.vkCode}</div>` : ''}
                    ${fullScreenBtn}
                    <p class="text-sm text-gray-700 font-medium leading-snug mt-4">${r.description}</p>
                </div>`;
            
            line.on('click', (e) => { map.flyTo(e.latlng, 17); openSheet(html); });
        });

        instructorsData.forEach(i => {
            const html = `
                <div class="flex flex-col">
                    <div class="flex gap-4 items-center mb-4">
                        <img src="${i.photoUrl}" class="w-16 h-16 rounded-full border-2 border-orange-500 shadow-md object-cover">
                        <div>
                            <h3 class="font-black text-gray-900 text-xl leading-tight">${i.name}</h3>
                            <p class="text-gray-500 text-xs font-medium mt-0.5">${i.car}</p>
                            <div class="text-yellow-400 text-xs mt-1 font-black uppercase">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ${i.rating}</div>
                        </div>
                    </div>
                    <p class="text-sm text-gray-700 italic bg-gray-50 p-3 rounded-lg border border-gray-100 mb-4">"${i.description}"</p>
                    <div class="flex gap-2">
                        <a href="tel:${i.phone}" class="flex-1 bg-emerald-500 text-white text-center py-3 rounded-xl text-xs font-black uppercase tracking-widest shadow-md">üìû –ó–≤–æ–Ω–æ–∫</a>
                        <a href="${i.telegramLink}" target="_blank" class="flex-1 bg-[#2AABEE] text-white text-center py-3 rounded-xl text-xs font-black uppercase tracking-widest shadow-md">üí¨ –ù–∞–ø–∏—Å–∞—Ç—å</a>
                    </div>
                    <div class="mt-4 pt-3 border-t border-gray-200 flex justify-between items-center">
                        <span class="text-xs text-gray-500 font-bold uppercase">–û—Ç–∑—ã–≤—ã (${i.reviewsCount})</span>
                        <a href="${i.reviewsLink || '#'}" target="_blank" class="text-xs font-black text-blue-600 uppercase">–ß–∏—Ç–∞—Ç—å üìù</a>
                    </div>
                </div>`;
            
            L.marker([i.lat, i.lng], {icon: instructorIcon}).addTo(instructorsGroup)
             .on('click', () => { map.flyTo([i.lat, i.lng], 17); openSheet(html); });
        });

    </script>
</body>
</html>
